
<ion-header>

  <nav-bar>

  </nav-bar>

</ion-header>


<ion-content padding>

  <ion-list>
    <ion-list-header text-center>
        <ng-container *ngIf="appUser?.name; else anon">
          {{ appUser$.name }}'s cart
        </ng-container>
        <ng-template #anon>
          Welcome, anonymous user
        </ng-template>
    </ion-list-header>
    
    <ng-container *ngIf="!cart?.length; else showCart">
        <ion-item text-center>
          Cart is empty!
        </ion-item>
      
    </ng-container>

    <ng-template #showCart>
        <ng-container *ngFor="let item of cart; let i = index">
          <cart-item [item]="item"></cart-item>
        </ng-container>
        
    </ng-template>
  </ion-list>
</ion-content>

<ion-footer ion-row>
  <button
    (click)="onClearCart()" 
    [disabled]="!cart.length" 
    color="danger" 
    ion-button 
    full 
    block 
    ion-col 
    col-6>
    Clear cart
  </button>

  <button 
    ion-button
    [disabled]="!cart?.length" 
    full 
    block 
    ion-col 
    col-6
    (click)="onShowCheckout()">
    Checkout
  </button>
</ion-footer>
