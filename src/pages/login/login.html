<ion-header>

  <ion-navbar padding color="bees" hideBackButton>  
    <ion-title> My Beesbox</ion-title>
  </ion-navbar>

  <ion-toolbar>
    <ion-segment [(ngModel)]="status">
      <ion-segment-button value="signin">
        Login
      </ion-segment-button>
      <ion-segment-button value="signup">
        Register
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content padding [ngSwitch]="status">

  <ion-card *ngSwitchCase="'signin'">
    <ion-card-content>
      <ion-item>
        <ion-label floating>Email</ion-label>
        <ion-input #e type="email" [(ngModel)]="logEmail" required></ion-input>
        <p *ngIf="e.touched && !e.valid"></p>
      </ion-item>
      <ion-item>
        <ion-label floating>Password</ion-label>
        <ion-input #p type="password" [(ngModel)]="logPass" min="6" required></ion-input>
        <p *ngIf="p.touched && !p.valid"></p>
      </ion-item>
    </ion-card-content>
    <ion-row justify-content-center padding>
      <button ion-button round full (click)="login()">
        <ion-icon item-left name="key"></ion-icon>
        Login
      </button>
    </ion-row>
  </ion-card>


  <ion-card *ngSwitchCase="'signup'">
    <ion-card-content>
      <ion-item>
        <ion-label floating>Email</ion-label>
        <ion-input #ee type="email" [(ngModel)]="regEmail" required></ion-input>
        <p *ngIf="ee.touched && !ee.valid">Please enter a valid email</p>
      </ion-item>
      <ion-item>
        <ion-label floating>Password</ion-label>
        <ion-input #pp type="password" [(ngModel)]="regPass" min="6" required></ion-input>
        <p *ngIf="pp.touched && !pp.valid">Please enter a valid password</p>
      </ion-item>
      <ion-item>
        <ion-label floating>Confirm Password</ion-label>
        <ion-input #c type="password" [(ngModel)]="regConfirm" min="6" required></ion-input>
        <p *ngIf="c.touched && !c.valid">Please re-enter a valid password</p>
        <p *ngIf="c.value === pp.value">password and confirmation do not match</p>
      </ion-item>
    </ion-card-content>
    <ion-row justify-content-center padding>
      <button ion-button round full (click)="doRegister()">
        <ion-icon item-left name="key"></ion-icon>
        Register
      </button>
    </ion-row>
  </ion-card>

  <ion-grid>
    <ion-row justify-content-center padding>

      <ion-col *ngFor="let soc of socials">
        <button 
          ion-fab
          icon-only
          (click)="doLogin(soc.name)">
          <ion-icon [name]="soc.icon"></ion-icon>
        </button>
      </ion-col>

    </ion-row>
  </ion-grid>

</ion-content>
